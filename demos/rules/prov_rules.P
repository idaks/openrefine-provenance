:- table import_state/4.
import_state(SourceUri, DatasetId, ImportArrayId, ImportStateId) :-
    source(SourceId, SourceUri, _),
    dataset(DatasetId, SourceId, ImportArrayId),
    state(ImportStateId, ImportArrayId, nil).

:- table column_name/3.
column_name(ColumnId, StateId, ColumnName) :-
    column_schema(_, ColumnId, StateId, _, ColumnName, _, _).

:- table column_rename/5.
column_rename(DatasetId, ArrayId, StateId, ColumnName, NewColumnName) :-
    array(ArrayId, DatasetId),
    state(StateId, ArrayId, _),
    column_schema(_, _, _, _, NewColumnName, _, PreviousColumnSchemaId),
    column_schema(PreviousColumnSchemaId, _, StateId, _, ColumnName, _, _),
    NewColumnName \== ColumnName.
